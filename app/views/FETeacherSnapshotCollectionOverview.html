{% extends "layoutsld.html" %}

{% block pageTitle %}
  FE Teacher FTE Snapshot Collection - GOV.UK Prototype Kit
{% endblock %}

{% block content %}
  <a href="/FETeacherSnapshotCollectionStartNowPage.html" class="govuk-back-link">Back</a>

  <main class="govuk-main-wrapper" id="content" role="main">
    <div class="govuk-grid-row flex">
      <div class="govuk-grid-column-two-thirds">
        
        <div class="govuk-grid-row">
          <div class="govuk-grid-column-full">
            <h1 class="govuk-heading-xl">FE Teacher FTE Snapshot Collection</h1>

            <h2 class="govuk-heading-m">Collection requirements</h2>
            <p class="govuk-body">
              Providers are asked to return their total teacher FTEs for staff on permanent or fixed-term contracts.
            </p>
            <p class="govuk-body">
                <strong>For the 2023/24 academic year:</strong> You must provide your total teacher FTE as at <strong>15 January 2024</strong>.
            </p>
            <p class="govuk-body">
              <strong>For the 2024/25 academic year:</strong> We will pre-populate your total teacher FTE as of <strong>20 January 2025</strong> if you submitted a valid 2024/25 FE Workforce return.
            </p>

            <h2 class="govuk-heading-m">Definitions</h2>
            <p class="govuk-body">
              <strong>FTE (Full-Time Equivalent):</strong> The proportion of a standard week that a member of staff is contracted to work. 1.0 FTE is ‘full time’.
            </p>
            <p class="govuk-body">
              <strong>Teacher:</strong> A member of staff whose main role is a teaching role (e.g. Lecturer, Tutor, Trainer).
            </p>

            <form id="routing-form" class="govuk-!-margin-top-8">
              
              <div class="govuk-form-group">
                <fieldset class="govuk-fieldset">
                  <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">
                    <h2 class="govuk-fieldset__heading">
                      Did you submit a valid FE Workforce return for the <strong>2023/24</strong> academic year?
                    </h2>
                  </legend>
                  <div class="govuk-radios" data-module="govuk-radios">
                    <div class="govuk-radios__item">
                      <input class="govuk-radios__input" id="submitted2324-yes" name="submittedReturn2324" type="radio" value="yes">
                      <label class="govuk-label govuk-radios__label" for="submitted2324-yes">
                        Yes
                      </label>
                    </div>
                    <div class="govuk-radios__item">
                      <input class="govuk-radios__input" id="submitted2324-no" name="submittedReturn2324" type="radio" value="no">
                      <label class="govuk-label govuk-radios__label" for="submitted2324-no">
                        No
                      </label>
                    </div>
                  </div>
                </fieldset>
              </div>

              <div class="govuk-form-group">
                <fieldset class="govuk-fieldset">
                  <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">
                    <h2 class="govuk-fieldset__heading">
                      Did you submit a valid FE Workforce return for the <strong>2024/25</strong> academic year?
                    </h2>
                  </legend>
                  <div class="govuk-radios" data-module="govuk-radios">
                    <div class="govuk-radios__item">
                      <input class="govuk-radios__input" id="submitted2425-yes" name="submittedReturn2425" type="radio" value="yes">
                      <label class="govuk-label govuk-radios__label" for="submitted2425-yes">
                        Yes
                      </label>
                    </div>
                    <div class="govuk-radios__item">
                      <input class="govuk-radios__input" id="submitted2425-no" name="submittedReturn2425" type="radio" value="no">
                      <label class="govuk-label govuk-radios__label" for="submitted2425-no">
                        No
                      </label>
                    </div>
                  </div>
                </fieldset>
              </div>

              <button class="govuk-button" data-module="govuk-button" id="continue-button">
                Continue
              </button>

            </form>
            </div>
        </div>
      </div>

      <div class="govuk-grid-column-one-third">
        <aside class="app-related-items" role="complementary">
          <h2 class="govuk-heading-m">Help &amp; Support</h2>
          <p class="govuk-!-font-size-16">
            Find further information at the <a href="#">Customer Help Centre</a>.
          </p>
        </aside>
      </div>
    </div>
  </main>

  <script>
    document.getElementById('continue-button').addEventListener('click', function(e) {
      e.preventDefault(); 
      
      // Helper function to get value from radio group
      function getRadioValue(name) {
        var radios = document.getElementsByName(name);
        for (var i = 0; i < radios.length; i++) {
          if (radios[i].checked) {
            return radios[i].value;
          }
        }
        return null;
      }

      // 1. Get both values
      var status2324 = getRadioValue('submittedReturn2324');
      var status2425 = getRadioValue('submittedReturn2425');

      // 2. Check if both are selected
      if (status2324 && status2425) {
        
        // 3. Save BOTH answers to session storage
        sessionStorage.setItem('status2324', status2324);
        sessionStorage.setItem('status2425', status2425);

        // 4. Redirect to the first data page (23/24)
        // Note: You can now check sessionStorage in FESnapshot2324 to see if 
        // you should show the manual form (No) or pre-filled (Yes).
        window.location.href = '/FESnapshot2324'; 

      } else {
        alert('Please select an option for both academic years');
      }
    });
  </script>

{% endblock %}