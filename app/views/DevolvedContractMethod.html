{% extends "layoutsld.html" %}

{% block pageTitle %}
Please select your submission method
{% endblock %}

{% block content %}

<div class="govuk-width-container">
    <a href="DevolvedContractsCollectionOverview.html" class="govuk-back-link">Back</a>

    <main class="govuk-main-wrapper " id="main-content" role="main">
        <div class="govuk-grid-row">
            <div class="govuk-grid-column-two-thirds">

                <form id="submission-form" novalidate>
                    
                    <div class="govuk-form-group">
                        <fieldset class="govuk-fieldset">
                            <legend class="govuk-fieldset__legend govuk-fieldset__legend--xl">
                                <h1 class="govuk-fieldset__heading">
                                    Please select your submission method.
                                </h1>
                            </legend>

                            <h2 class="govuk-heading-m govuk-!-margin-top-6">Overview</h2>
                            <p class="govuk-body">Submissions must use either the online form or a CSV file.</p>
                            <ul class="govuk-list govuk-list--bullet">
                                <li>Use the online form service to record contracts individually</li>
                                <li>CSV file data can be prepared and generated from your own system for bulk uploading of data</li>
                            </ul>

                            <p class="govuk-body govuk-!-margin-top-4">To complete this collection you will need:</p>
                            <ul class="govuk-list govuk-list--bullet">
                                <li>The provider's UKPRN</li>
                                <li>The allocation type</li>
                                <li>The contract type</li>
                                <li>The contract start and end dates</li>
                                <li>The total contract value (Â£)</li>
                            </ul>
                            <div class="govuk-form-group govuk-!-margin-top-6">
                                <fieldset class="govuk-fieldset" aria-describedby="submission-method-hint">
                                    <legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
                                        <h2 class="govuk-heading-l">Select an option</h2>
                                    </legend>
                                    <div class="govuk-radios" data-module="govuk-radios">
                                        <div class="govuk-radios__item">
                                            <input class="govuk-radios__input" id="submission-method-online" name="submission-method" type="radio" value="online" checked>
                                            <label class="govuk-label govuk-radios__label" for="submission-method-online">
                                                Use the online form service
                                            </label>
                                        </div>
                                        <div class="govuk-radios__item">
                                            <input class="govuk-radios__input" id="submission-method-csv" name="submission-method" type="radio" value="csv">
                                            <label class="govuk-label govuk-radios__label" for="submission-method-csv">
                                                Upload a CSV file
                                            </label>
                                        </div>
                                    </div>
                                </fieldset>
                            </div>

                        </fieldset>
                    </div>

                    <button class="govuk-button" data-module="govuk-button">
                        Continue
                    </button>

                </form>

            </div>
        </div>
    </main>
</div>

<script>
  // Wait for the DOM to be ready before attaching event listeners
  document.addEventListener('DOMContentLoaded', function() {
    
    // Find the form and add a 'submit' event listener
    document.getElementById('submission-form').addEventListener('submit', function(event) {
      
      // Stop the form from submitting in the default way
      event.preventDefault();

      // Find the selected radio button
      const selectedOption = document.querySelector('input[name="submission-method"]:checked');

      // If "Upload a CSV file" is selected, go to the CSV page
      if (selectedOption && selectedOption.value === 'csv') {
        window.location.href = 'DevolvedContractTableCSV.html';
      } 
      // Otherwise (if "Use the online form service" is selected), go to the details page
      else {
        window.location.href = 'DevolvedContractDetails.html';
      }
    });
  });
</script>

{% endblock %}